@{
    ViewData["Title"] = "Invoice";
}

<div class="container mt-5">
    <h1 class="text-center">@ViewData["Title"]</h1>
    <hr />

    <!-- List of Invoices -->
    <table class="table table-bordered">
        <thead class="table-light">
            <tr>
                <th>#</th>
                <th>Invoice No</th>
                <th>Date</th>
                <th>Total Amount (₱)</th>
                <th>View</th>
            </tr>
        </thead>
        <tbody>
            <!-- Example Data -->
            <tr>
                <td>1</td>
                <td>INV-12345678</td>
                <td>December 18, 2024</td>
                <td>₱84.00</td>
                <td>
                    <!-- Button to trigger modal -->
                    <button class="btn btn-info btn-sm" data-bs-toggle="modal" data-bs-target="#invoiceModal" data-invoice-id="12345678" data-invoice-number="INV-12345678" data-invoice-date="December 18, 2024" data-invoice-amount="84.00">
                        View
                    </button>
                </td>
            </tr>
            <tr>
                <td>2</td>
                <td>INV-87654321</td>
                <td>December 19, 2024</td>
                <td>₱150.00</td>
                <td>
                    <!-- Button to trigger modal -->
                    <button class="btn btn-info btn-sm" data-bs-toggle="modal" data-bs-target="#invoiceModal" data-invoice-id="87654321" data-invoice-number="INV-87654321" data-invoice-date="December 19, 2024" data-invoice-amount="150.00">
                        View
                    </button>
                </td>
            </tr>
            <tr>
                <td>3</td>
                <td>INV-11223344</td>
                <td>December 20, 2024</td>
                <td>₱50.00</td>
                <td>
                    <!-- Button to trigger modal -->
                    <button class="btn btn-info btn-sm" data-bs-toggle="modal" data-bs-target="#invoiceModal" data-invoice-id="11223344" data-invoice-number="INV-11223344" data-invoice-date="December 20, 2024" data-invoice-amount="50.00">
                        View
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Modal Structure -->
<div class="modal fade" id="invoiceModal" tabindex="-1" aria-labelledby="invoiceModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="invoiceModalLabel">Invoice Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h5>Invoice #: <span id="invoiceNumber"></span></h5>
                <p><strong>Date:</strong> <span id="invoiceDate"></span></p>
                <p><strong>Total Amount:</strong> ₱<span id="invoiceAmount"></span></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Include Bootstrap JS (ensure it's placed after the jQuery library if needed) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // JavaScript to handle dynamic modal content
    const invoiceModal = document.getElementById('invoiceModal');
    invoiceModal.addEventListener('show.bs.modal', function (event) {
        // Get data from the button that triggered the modal
        const button = event.relatedTarget; 
        const invoiceId = button.getAttribute('data-invoice-id');
        const invoiceNumber = button.getAttribute('data-invoice-number');
        const invoiceDate = button.getAttribute('data-invoice-date');
        const invoiceAmount = button.getAttribute('data-invoice-amount');

        // Update the modal's content
        document.getElementById('invoiceNumber').textContent = invoiceNumber;
        document.getElementById('invoiceDate').textContent = invoiceDate;
        document.getElementById('invoiceAmount').textContent = invoiceAmount;
    });
</script>
